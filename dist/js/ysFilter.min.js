/**
 * ys-filter - For filtering and sorting products returned from Silk API.
 * @version v0.3.0
 * @link http://youngskilled.com
 * @author richard@youngskilled.com Young/Skilled
 * @license MIT
 */
var hej;!function(e,t){var s={init:function(){var l=this;l.addClass("ysFilter-loading"),l.set.currentHash=t.location.hash,"#"==l.set.currentHash?l.set.currentHash="":(l.addClass("ysFilter-filtered"),l.set.updateWHash!==!1&&e("."+l.set.updateWHash).each(function(){var t=e(this).attr("href");e(this).attr("href",t+l.set.currentHash)})),e.ajax({url:l.set.url,type:"GET",cache:!0,dataType:"JSON",success:function(i){l.filter=i,l.set.debug===!0&&console.log("var $this.filter",e.extend({},l.filter)),s.preFilter.apply(l),s.buildFilter.apply(l),s.enableEvents.apply(l),l.set.limit=l.filter.settings.limit,l.set.pages=Math.ceil(Object.keys(l.filter.productIds).length/l.set.limit),""!==l.set.currentHash?(l.set.filteredBy=s.dehashify.apply(l,[t.location.hash]),l.set.filteredBy.page>1&&(l.find(l.set.filterOptions.paging.prevBtnClass).closest(".paging").show(),l.set.initialLoad=!0),s.gatherItems.apply(l),s.reSelect.apply(l)):l.set.preSort!==!1?s.gatherItems.apply(l):l.set.debug===!0&&s.gatherItems.apply(l)}})},preFilter:function(){var e=this,t=[],l=[],i=0,r=null,a=null,n=null,o="",d="";if(e.set.initItems=e.filter.products.slice(0),e.set.currentItems=e.set.initItems,void 0!==e.set.category&&"/"!==e.set.category){0===e.set.category.indexOf("/")&&(e.set.category=e.set.category.slice(1)),r=e.filter.filter.categories,a=e.filter.settings.filter,n=e.filter.filter;for(var p in r)0===p.indexOf(e.set.category)&&(l[i]=r[p],i++);for(t=Array.prototype.concat.apply([],l),e.set.relevantFilters={},j=0;j<a.length;j++){d=a[j][0].replace(/_\d/,""),o=n[d];for(var c in o)l=[],l=s.intersect(t,o[c]),l.length>0&&(void 0===e.set.relevantFilters[d]&&(e.set.relevantFilters[d]={}),e.set.relevantFilters[d][c]=l)}t=s.unique(t),e.set.initItems=s.keysToItems.apply(e,[t]),e.set.currentItems=e.set.initItems}},buildFilter:function(){var t=this,l=t.find("."+t.set.groupClass),i="",r="",a={},n=t.filter.settings.filter.length,o=t.set.splitSizes!==!1?"</"+t.set.splitSizes.match(/<([a-z]+)/)[1]+">":"";if(void 0!==t.filter.settings.sort){var d=e("#sort"),p=void 0!==t.filter.settings.sort.init?t.filter.settings.sort.init:"";r=d.data("create"),a=t.set.filterOptions.sort||{};for(var c in t.filter.settings.sort)"init"!==c&&(t.filter.settings.sort[c].asc&&(i+=s.buildFilterTemplate.call(t,r,"sort-"+c+"-asc",'["'+c+'","asc"]',t.filter.settings.sort[c].asc,a)),t.filter.settings.sort[c].dsc&&(i+=s.buildFilterTemplate.call(t,r,"sort-"+c+"-dsc",'["'+c+'","dsc"]',t.filter.settings.sort[c].dsc,a)));void 0!==a.wrapperGroup&&(i=a.wrapperGroup+i+"</"+a.wrapperGroup.match(/<([a-z]+)/)[1]+">"),"fakeSelect"===r&&(t.set.repeatStartFakeSelect&&(i=s.buildFilterTemplate.call(t,"start_"+r,"","",p,a)+i),i='<div class="filter-value fake-select"><span class="title" data-orig-text="'+p+'">'+p+'</span><ul class="ul-clean fake-select-list">'+i+"</ul></div>"),("select"===r||"multiSelect"===r)&&(i='<select class="filter-value"'+("multiSelect"===r?' multiple="multiple"':"")+'><option value="0">'+p+"</option>"+i+"</select>"),d.append(i)}for(var f=0;n>f;f++){var u=t.filter.settings.filter[f][0],g=u.replace(/_\d/,""),h=t.filter.settings.filter[f][1],v=l.filter("#"+u),m=t.set.relevantFilters||t.filter.filter,y=(v.data("type"),v.data("max-length")||null),b=0,C="",F="",I=null,S=null,B=null,A="",k=[],j=[],O={};i="",r=v.data("create"),a=t.set.filterOptions[u]||{};for(var x in m[g]){if(F=x,void 0!==t.filter.filterDescriptions[g]&&void 0!==t.filter.filterDescriptions[g][x]&&(F=void 0!==t.filter.filterDescriptions[g][x].color_img?[F,t.filter.filterDescriptions[g][x].color_img]:void 0!==t.filter.filterDescriptions[g][x].color_hex?[F,t.filter.filterDescriptions[g][x].color_hex]:t.filter.filterDescriptions[g][x]),-1!==F.indexOf("::")){if(0!==x.indexOf(t.set.category))continue;if(k=F.split("::"),j=x.split("/"),void 0!==v.data("depth")){if(B=v.data("depth")-1,void 0==k[B])continue;A=j[B],F=k[B],void 0===O[A]&&(i+=s.buildFilterTemplate.call(t,r,u+"-"+A,A,F,a),O[A]=!0)}else F=k.pop(),I="tree",S!==k.join("")&&(null!==S&&(i+=s.buildFilterTemplate.call(t,"group_"+r,"",C,S,a),C=""),S=k.join("")),C+=s.buildFilterTemplate.call(t,r,g+"-"+x,x,F,a)}else t.set.splitSizes!==!1&&"size"===g?(I="size",sizeTables=x.split("_"),S!==sizeTables[0]&&(null!==S&&(i+=t.set.splitSizes+C+o,C=""),S=sizeTables[0]),C+=s.buildFilterTemplate.call(t,r,g+"-"+x,x,F,a)):i+=s.buildFilterTemplate.call(t,r,g+"-"+x,x,F,a);b++}null!==S&&(i+="tree"===I?s.buildFilterTemplate.call(t,"group_"+r,"",C,S,a):t.set.splitSizes+C+o),b>y&&null!==y&&(t.set.hideAncestor!==!1?v.closest("."+t.set.hideAncestor).addClass("too-many-options"):v.addClass("too-many-options")),void 0!==a.wrapperGroup&&(i=a.wrapperGroup+i+"</"+a.wrapperGroup.match(/<([a-z]+)/)[1]+">"),"fakeSelect"===r&&(t.set.repeatStartFakeSelect&&(C=s.buildFilterTemplate.call(t,"start_"+r,"",x,h,a)),i='<div class="filter-value fake-select"><span class="title" data-orig-text="'+h+'">'+h+'</span><ul class="ul-clean fake-select-list">'+C+i+"</ul></div>"),("select"===r||"multiSelect"===r)&&(i='<select name="'+g+'" class="filter-value"'+("multiSelect"===r?' multiple="multiple"':"")+'><option value="0">'+h+"</option>"+i+"</select>"),v.append(i)}t.removeClass("ysFilter-loading ysFilter-filtered").addClass("ysFilter-loaded"),void 0!==t.set.afterFilterRendered&&t.set.afterFilterRendered()},buildFilterTemplate:function(e,t,s,l,i){var r=this,a={desc:l},n="",o="",d="",p="",c="",f="",u="",g=!1;for(var h in i)switch(h){case"classNames":n=i[h].join(" ");break;case"background":g=i[h];break;case"attrs":p=" "+i[h].replace("{desc}",l[0]);break;case"wrapper":o=i[h],d="</"+i[h].match(/<([a-z]+)/)[1]+">"}return"object"==typeof l&&(a.desc=l[0],g&&(c=l[1]&&"http"===l[1].substr(0,4)?"background-image: url('"+l[1]+"')":"#"===l[1].substr(0,1)?"background-color: "+l[1]:"background-color: #"+l[1])),void 0!==r.set.eachFilterAttrs&&(a=r.set.eachFilterAttrs(a)),f=g?' style="'+c+'"':"",u=g?"":a.desc,t=t.replace(/\W/g,"-"),"a"===e?o+'<a id="'+t+'" class="'+n+' filter-value" href="#"'+f+" data-value='"+s+"'"+p+">"+u+"</a>"+d:"select"===e||"multiSelect"===e?'<option id="'+t+'" value="'+s+'">'+a.desc+"</option>":"fakeSelect"===e?'<li class="'+n+'"'+p+'><a id="'+t+'" class="filter-value" href="#"'+f+" data-value='"+s+"'>"+u+"</a></li>":"radio"===e?o+'<input id="'+t+'" type="radio" class="'+n+' filter-value" value="'+s+'" /><label'+f+' for="'+t+'">'+u+"</label>"+d:"checkbox"===e?o+'<input id="'+t+'" type="checkbox" class="'+n+' filter-value" value="'+s+'" /><label'+f+' for="'+t+'">'+u+"</label>"+d:"group_select"===e?'<optgroup label="'+a.desc+'">'+s+"</optgroup>":"start_fakeSelect"===e?'<li class="'+n+'"'+p+'><a class="remove" href="#">'+a.desc+"</a></li>":""},enableEvents:function(){var l=this;l.on("change",".filter-group select.filter-value",function(t){t.preventDefault();var i=e(this).closest(".filter-group").data("type"),r=e(this).closest(".filter-group").attr("id"),a=e(this).val();"sort"!==r&&(l.set.latestCat=r),s.updateFilter.apply(l,[i,r,a])}),l.on("click",".filter-group a.filter-value",function(t){t.preventDefault();var i=e(this).closest(".filter-group").data("type"),r=e(this).closest(".filter-group").attr("id"),a=e(this).data("value");"s"!==i&&"s1"!==i?l.set.latestCat=r:e(this).hasClass("selected")||e(this).closest(".filter-group").find(".filter-value").removeClass(l.set.filterSelectedClass),e(this).hasClass("disabled")||e(this).parent().hasClass("disabled")||(e(this).toggleClass(l.set.filterSelectedClass),s.updateFilter.apply(l,[i,r,a]))}),l.on("click",".remove",function(t){t.preventDefault();var i,r,a,n=e(this).closest(".filter-group");0===n.length&&(n=e(this).siblings(".filter-group")),i=n.data("type"),r=n.attr("id"),a="remove",n.find("."+l.set.filterSelectedClass).removeClass(l.set.filterSelectedClass),n.find("select").find("option").removeAttr("disabled").filter(":selected").removeAttr("selected"),s.updateFilter.apply(l,[i,r,a])}),l.on("click",".remove-all",function(e){e.preventDefault(),l.set.filteredBy={},l.set.filteredBy.page=1,l.set.currentHash="",t.location.hash=l.set.currentHash,l.find(".filter-group ."+l.set.filterSelectedClass).removeClass(l.set.filterSelectedClass),l.find(".filter-group option").removeAttr("disabled").filter(":selected").removeAttr("selected"),void 0!==l.set.onFilterChanged&&l.set.onFilterChanged(),s.gatherItems.apply(l)}),l.on("click",l.set.filterOptions.paging.nextBtnClass,function(e){return e.preventDefault(),l.set.filteredBy.page<l.set.pages&&(l.set.filteredBy.page+=1,l.set.currentHash=s.hashify(l.set.filteredBy),l.set.currentHash.length>0&&(t.location.hash=l.set.currentHash),l.find(".current-page").text(l.set.filteredBy.page),s.gatherItems.apply(l)),!1}),l.on("click",l.set.filterOptions.paging.prevBtnClass,function(e){e.preventDefault(),l.set.filteredBy.page>1&&(l.set.filteredBy.page-=1,l.set.currentHash=s.hashify(l.set.filteredBy),l.set.currentHash.length>0&&(t.location.hash=l.set.currentHash),l.find(".current-page").text(l.set.filteredBy.page),s.gatherItems.apply(l))}),l.on("click",l.set.filterOptions.paging.allBtnClass,function(t){t.preventDefault();var i=e(this).closest(".paging");i.hasClass("viewing-all")?(l.set.limit=l.set.oldLimit,i.removeClass("viewing-all"),l.find(".current-page").text(l.set.filteredBy.page)):(l.set.oldLimit=l.set.limit,l.set.limit="none",i.addClass("viewing-all"),l.find(".current-page").text(1)),s.gatherItems.apply(l)})},reSelectLatestFilter:function(){var e=this;for(var t in e.set.filteredBy)if("page"!==t&&"sort"!==t){e.set.latestCat=t;break}},updateFilter:function(l,i,r){var a=this,n=null,o=null;"s1"===l||"s"===l?(n=void 0!==a.set.filteredBy[i]?"object"==typeof a.set.filteredBy[i].value?a.set.filteredBy[i].value.join(","):a.set.filteredBy[i].value:"",n===r||0===r||"0"===r||"remove"===r?(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):a.set.filteredBy[i]={type:l,value:r}):("sand"===l||"sor"===l)&&("remove"===r?void 0!==a.set.filteredBy[i]&&(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):null===r?(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):"object"==typeof r?r.length>0&&(a.set.filteredBy[i]={type:l,value:r}):(n=void 0!==a.set.filteredBy[i]&&void 0!==a.set.filteredBy[i].value?a.set.filteredBy[i].value:[],o=e.inArray(r,n),-1!==o||0===r||"0"===r?n.splice(o,1):n.push(r),n.length>0?a.set.filteredBy[i]={type:l,value:n}:(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)))),a.set.debug===!0&&console.log("var $this.set.filteredBy",a.set.filteredBy),a.set.filteredBy.page=1,a.set.currentHash=s.hashify(a.set.filteredBy),t.location.hash=a.set.currentHash,s.gatherItems.apply(a),void 0!==a.set.onFilterChanged&&a.set.onFilterChanged(),a.set.updateWHash!==!1&&e("."+a.set.updateWHash).each(function(){var t=e(this).attr("href");e(this).attr("href",t+"#"+a.set.currentHash)})},reSelect:function(){var e=this,t=e.set.filteredBy,s={},l={},i="",r="";for(var a in t)if(s=e.find("#"+a),i=t[a].value,r=s.data("create"),0!==s.length)if("sort"===a&&(i=t[a].value.join("-")),"object"==typeof t[a].value&&"sort"!==a)for(var n=0;n<t[a].value.length;n++)i=t[a].value[n].replace(/\W/g,"-"),"select"===r||"multiSelect"===r?s.find("#"+a+"-"+i).attr("selected",!0):"fakeSelect"===r?s.find("#"+a+"-"+i).closest("li").addClass(e.set.filterSelectedClass):s.find("#"+a+"-"+i).addClass(e.set.filterSelectedClass);else l=s.find("#"+a+"-"+i.replace(/\W/g,"-")),"select"===r||"multiSelect"===r?l.attr("selected",!0):"fakeSelect"===r?(l.addClass("selected"),s.find(".fake-select").addClass("selected").find("span").text(l.text())):l.addClass(e.set.filterSelectedClass);void 0!==e.set.onFilterChanged&&e.set.onFilterChanged()},gatherItems:function(){var e=this,t=/_\d$/,l=e.set.filteredBy,i=e.filter.settings.filter,r=e.set.relevantFilters||e.filter.filter,a=0,n=0,o=[],d=[],p=[],c=function(s,l){var i=[],a=0,n=parseInt(s.slice(-1),10)-1,o=s.replace(t,""),d=l===e.set.undefinedCatId?void 0:l;for(var p in r[o])0===p.indexOf(e.set.category)&&d===p.split("/")[n]&&(i[a]=r[o][p],a++);return Array.prototype.concat.apply([],i)};for(var f in l)if("page"!==f&&"sort"!==f){if("s1"===l[f].type)d=t.test(f)?c(f,l[f].value):r[f][l[f].value];else if("sor"===l[f].type){for(n=0;n<l[f].value.length;n++)t.test(f)?o[n]=c(f,l[f].value[n]):(console.log("var ",l[f].value[n],r[f][l[f].value[n]]),o[n]=r[f][l[f].value[n]]);d=Array.prototype.concat.apply([],o)}else if("sand"===l[f].type)for(n=0;n<l[f].value.length;n++)o[n]=r[f][l[f].value[n]],d=d;p=0===a?d:s.intersect(p,d),o=[],a++}if(0===a)for(e.set.currentItems=e.set.initItems.slice(0),e.find(".filter-group").find(".disabled,."+e.set.filterSelectedClass).removeClass("disabled "+e.set.filterSelectedClass),e.find(".filter-group option").removeAttr("disabled").filter(":selected").removeAttr("selected"),n=0;n<i.length;n++){var u=e.find("#"+i[n][0]),g=u.data("max-length")||null;null!==g&&Object.keys(r[i[n][0]]).length>g&&(e.set.hideAncestor!==!1?u.closest("."+e.set.hideAncestor).addClass("too-many-options"):u.addClass("too-many-options"))}else{for(n=0;n<i.length;n++)if(e.set.latestCat!==i[n][0]){var h=0,v=i[n][0].replace(/_\d$/,"");itemTotal=0,u=e.find("#"+i[n][0]),$item={},create=u.data("create")||null,g=u.data("max-length")||null,prop="",compiledObj={},updateFilterObj=r[v],depth=u.data("depth")-1||null,o=[];var m=function(e){var t=s.intersect(p,e);t.length>0?("option"===prop||"input"===prop?$item.removeAttr("disabled"):"fakeSelect"===create?$item.closest("li").removeClass("disabled").attr("title",o.length):$item.removeClass("disabled").attr("title",o.length),itemTotal+=o.length,h++):"option"===prop||"input"===prop?$item.attr("disabled",!0):"fakeSelect"===create?$item.closest("li").addClass("disabled").removeAttr("title"):$item.addClass("disabled").removeAttr("title")};if(null!==depth){for(var y in r[v]){var b=[],C=y.split("/");void 0!=C[depth]&&(F=C[depth],b=void 0===compiledObj[F]?[]:compiledObj[F],compiledObj[F]=Array.prototype.concat.apply(b,r[v][y]))}updateFilterObj=compiledObj}for(var y in updateFilterObj){var F=y.replace(/\W/g,"-");$item=e.find("#"+i[n][0]+"-"+F),0!==$item.length&&(prop=$item.prop("tagName").toLowerCase(),m(updateFilterObj[y]))}null!==g&&(h>g?e.set.hideAncestor!==!1?u.closest("."+e.set.hideAncestor).addClass("too-many-options"):u.addClass("too-many-options"):e.set.hideAncestor!==!1?u.closest("."+e.set.hideAncestor).removeClass("too-many-options"):u.removeClass("too-many-options")),h>0?u.removeClass("disabled").attr("title",itemTotal):u.addClass("disabled").removeAttr("title")}p=s.unique(p),e.set.currentItems=s.keysToItems.apply(e,[p])}void 0!==e.set.filteredBy.sort&&e.set.currentItems.length>0?s.sortItems.apply(e):e.set.preSort!==!1?s.sortItems.apply(e,[e.set.preSort[0],e.set.preSort[1]]):s.renderItems.apply(e)},sortItems:function(e,t){var l=this,r=l.set.currentItems,a=r.length,n=e||l.set.filteredBy.sort.value[0],o=e&&t?e+"-"+t:l.set.filteredBy.sort.value.join("-");for(i=0,sortArr=[],i=0;a>i;i++)sortArr[i]={obj:r[i]},"price"===n?(parseFloat(r[i].price.priceAsNumber,10)!=r[i].price.priceAsNumber&&(foo=r[i].price),sortArr[i][n]=parseFloat(r[i].price.priceAsNumber,10)):sortArr[i][n]="news"===n?void 0!==r[i].newsmarker?0:10:r[i][n];for($item=l.find("#sort-"+o),console.log("var $item",$item),"fakeSelect"===l.find("#sort").data("create")?$item.closest("li").addClass(l.set.filterSelectedClass):$item.addClass(l.set.filterSelectedClass),sortArr.sort("number"==typeof sortArr[0][n]?function(e,t){return e[n]-t[n]}:function(e,t){return e[n]<t[n]||""===t[n]?-1:e[n]>t[n]?1:0}),"dsc"===(t||l.set.filteredBy.sort.value[1])&&sortArr.reverse(),l.set.currentItems=[],i=0;a>i;i++)l.set.currentItems[i]=sortArr[i].obj;s.renderItems.apply(l)},renderItems:function(){var e=this,t=e.set.currentItems,l=t.length,i=null,r=0,a="";e.set.initialLoad?(e.set.appendItems&&(r=0,i=e.set.limit*e.set.filteredBy.page,l=i>l?l:i,e.set.pages=1,l!==i&&e.find(".paging").addClass("disabled")),e.set.initialLoad=!1):"none"!==e.set.limit?l>e.set.limit?(e.set.pages=Math.ceil(l/e.set.limit),e.find(".paging").removeClass("disabled"),i=e.set.limit*e.set.filteredBy.page,r=(e.set.filteredBy.page-1)*e.set.limit,l=i>l?l:i,e.set.filteredBy.page>1?e.find(e.set.filterOptions.paging.prevBtnClass).closest(".paging").removeClass("disabled"):e.find(e.set.filterOptions.paging.prevBtnClass).closest(".paging").addClass("disabled"),l!==i&&e.find(".paging").addClass("disabled")):(e.set.pages=1,e.find(".paging").addClass("disabled"),e.find(e.set.filterOptions.paging.prevBtnClass).closest(".paging").addClass("disabled")):e.set.pages=1,e.find(".page-total").text(e.set.pages);for(var n=r;l>n;n++)e.set.eachItemAttrs&&(t[n]=e.set.eachItemAttrs(e,t[n],n)),e.set.onItemIndex===n&&(a+=e.set.onItem(l)),a+=s.renderItemTemplate.apply(e,[t[n]]);e.set.appendItems&&1!==e.set.pages&&1!==e.set.filteredBy.page?e.find("#"+e.set.itemContId).append(a):e.find("#"+e.set.itemContId).html(a),void 0!==e.set.afterItemsRendered&&e.set.afterItemsRendered()},renderItemTemplate:function(e){{var s=this,l=s.filter.settings.template.item,i="",r=[],a=!1,n=[];r.length}return i="object"==typeof e.price&&e.price.soldout?s.filter.settings.template.price.soldout:"object"==typeof e.price&&e.price.showAsOnSale?s.filter.settings.template.price.discounted:s.filter.settings.template.price.default,"object"==typeof e.image?r=e.image:r[0]=e.image,e.hash=-1===s.set.currentHash.indexOf("#")?"#"+s.set.currentHash:s.set.currentHash,e.root=encodeURIComponent(t.location.origin),e.category=s.set.category,-1!==l.indexOf("{rep_")&&(l=l.replace(/<[^<]*(\{rep_(.+?)\})[^>]*>/g,function(t,s,l){for(var i="",r="</"+t.match(/<([a-z]+)/)[1]+">",a=0;a<n.length;a++)void 0!==e[l]&&void 0!==e[l][n[a]]&&(i+=t.replace(s,e[l][n[a]])+r);return i})),"undefined"==typeof e.priceHTML&&(e.priceHTML=i.replace(/\{(.+?)\}/g,function(t,s){return e.price[s]})),l=l.replace(/\{(.+?)\}/g,function(t,s){if($func=!1,-1!==s.indexOf("|")){switch(s=s.split("|"),s[1]){case"title":$func=capitalize}s=s[0]}var l="";if("image_"===s.substring(0,6)){var i=parseInt(s.substring(6))-1;if(l=r[i],void 0===l||null===l)return a=!0,"{#}"}else l=void 0!==e[s]?$func?$func(e[s]):e[s]:"";return l}),a&&(l=l.replace(/<[^<]*\{#\}[^>]*>/g,"")),l},keysToItems:function(e){for(var t=this,s=[],l="",i=0;i<e.length;i++)l=t.filter.productIds[e[i]],s[i]=t.filter.products[l];return s},unique:function(e){var t=[];e:for(var s=0;s<e.length;s++){for(var l=0;l<t.length;l++)if(t[l]==e[s])continue e;t[t.length]=e[s]}return t},intersect:function(e,t){var s=[],l={},i=0;for(i=0;i<e.length;i++)l[e[i]]=!0;for(i=0;i<t.length;i++)l[t[i]]&&(s[s.length]=t[i]);return s},dehashify:function(e){var t=this,s={},l=e.substring(1).split("&"),i=[],r="",a=!0,n=[];if(e.length>1&&1!==e.indexOf("/"))for(var o=0;o<l.length;o++)if(i=l[o].split("="),"page"===i[0])s.page=parseInt(i[1]);else{switch(r=i[0].split("~"),r[1]){case"sand":n=i[1].split("+");break;case"sor":case"r":case"s":case"f":n=i[1].split(",");break;default:n=i[1]}a&&"sort"!==r[0]&&(a=!1,t.set.latestCat=r[0]),s[r[0]]={type:r[1],value:n}}return void 0===s.page&&(s.page=1),s},hashify:function(e){var t="",s=null;for(var l in e)if("page"===l)e[l]>1&&(t+=l+"="+e[l]+"&");else{switch(e[l].type){case"sand":s=e[l].value.join("+");break;case"sor":case"s":case"r":case"f":s=e[l].value.join(",");break;default:s=e[l].value}t+=l+"~"+e[l].type+"="+s+"&"}return t=t.substring(0,t.length-1),t.length?t:""},urlify:function(e){return e.toLowerCase().replace(/\s{2,}|\s/g,"-")}},l={init:function(l){var i=e.extend({},r,l);return t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(),this.each(function(){var t=e(this),l=t.data();t.set=e.extend({},i,l,a),t.set.debug===!0&&(console.warn(":::: YS Filter Debug has been set to true ::::"),console.log("Options -> ",t.set),void 0===t.set.url&&console.warn("No url has been defined i.e. loadproducts")),s.init.apply(t),t.data(t.set)})}},r={limit:20,preSort:!1,splitSizes:!1,appendItems:!1,multipleImgs:!1,filterOptions:{},updateWHash:!1,hideAncestor:!1,repeatStartFakeSelect:!1,undefinedCat:"Unsorted",undefinedCatId:"unsorted",itemContId:"item-cont",filterSelectedClass:"selected",groupClass:"filter-group"},a={filteredBy:{page:1},currentHash:"",latestCat:"",currentItems:[],oldLimit:null,relevantFilters:null,initialLoad:!1,pages:1};e.fn.ysFilter=function(t){return l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.ysFilter"):l.init.apply(this,arguments)}}(jQuery,window);