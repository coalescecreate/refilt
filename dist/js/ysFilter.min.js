/**
 * ys-filter - For filtering and sorting products returned from Silk API.
 * @version v0.5.5
 * @link http://youngskilled.com
 * @author richard@youngskilled.com Young/Skilled
 * @license MIT
 */
!function(e,t){var s={init:function(){var l=this;l.addClass("ysFilter-loading ysFilter-init"),l.set.currentHash=t.location.hash,"#"==l.set.currentHash?l.set.currentHash="":(l.addClass("ysFilter-filtered"),l.set.updateWHash!==!1&&e("."+l.set.updateWHash).each(function(){var t=e(this).attr("href");e(this).attr("href",t+l.set.currentHash)})),e.ajax({url:l.set.url,type:"GET",cache:!0,dataType:"JSON",success:function(i){l.filter=i,l.set.debug===!0&&console.log("var $this.filter",e.extend({},l.filter)),s.preFilter.apply(l),s.buildFilter.apply(l),s.enableEvents.apply(l),l.set.limit=l.filter.settings.limit,l.set.pages=Math.ceil(Object.keys(l.filter.productIds).length/l.set.limit),""!==l.set.currentHash?(l.set.filteredBy=s.dehashify.apply(l,[t.location.hash]),l.set.filteredBy.page>1&&(l.find(l.set.filterOptions.paging.prevBtnClass).closest(".paging").show(),l.set.initialLoad=!0),s.gatherItems.apply(l),s.reSelect.apply(l)):l.set.preSort!==!1?s.gatherItems.apply(l):l.set.debug===!0&&s.gatherItems.apply(l)}})},preFilter:function(){var e=this,t=[],l=[],i=0,r=null,a=null,n=null,o="",d="";if(e.set.initItems=e.filter.products.slice(0),e.set.currentItems=e.set.initItems,void 0!==e.set.category&&"/"!==e.set.category){0===e.set.category.indexOf("/")&&(e.set.category=e.set.category.slice(1)),r=e.filter.filter.categories,a=e.filter.settings.filter,n=e.filter.filter;for(var c in r)0===c.indexOf(e.set.category)&&(l[i]=r[c],i++);for(t=Array.prototype.concat.apply([],l),e.set.relevantFilters={},j=0;j<a.length;j++){d=a[j][0].replace(/_\d/,""),o=n[d];for(var p in o)l=[],l=s.intersect(t,o[p]),l.length>0&&(void 0===e.set.relevantFilters[d]&&(e.set.relevantFilters[d]={}),e.set.relevantFilters[d][p]=l)}t=s.unique(t),e.set.initItems=s.keysToItems.apply(e,[t]),e.set.currentItems=e.set.initItems}},buildFilter:function(){var t=this,l=t.find("."+t.set.groupClass),i="",r="",a={},n=t.filter.settings.filter.length,o=t.set.splitSizes!==!1?"</"+t.set.splitSizes.match(/<([a-z]+)/)[1]+">":"";if(void 0!==t.filter.settings.sort){var d=e("#sort"),c=void 0!==t.filter.settings.sort.init?t.filter.settings.sort.init:"";r=d.data("create"),a=t.set.filterOptions.sort||{};for(var p in t.filter.settings.sort)"init"!==p&&(t.filter.settings.sort[p].asc&&(i+=s.buildFilterTemplate.call(t,r,"sort-"+p+"-asc",'["'+p+'","asc"]',t.filter.settings.sort[p].asc,a)),t.filter.settings.sort[p].dsc&&(i+=s.buildFilterTemplate.call(t,r,"sort-"+p+"-dsc",'["'+p+'","dsc"]',t.filter.settings.sort[p].dsc,a)));void 0!==a.wrapperGroup&&(i=a.wrapperGroup+i+"</"+a.wrapperGroup.match(/<([a-z]+)/)[1]+">"),"fakeSelect"===r&&(t.set.repeatStartFakeSelect&&(i=s.buildFilterTemplate.call(t,"start_"+r,"","",c,a)+i),i='<div class="filter-value fake-select"><span class="title" data-orig-text="'+c+'">'+c+'</span><ul class="ul-clean fake-select-list">'+i+"</ul></div>"),("select"===r||"multiSelect"===r)&&(i='<select class="filter-value"'+("multiSelect"===r?' multiple="multiple"':"")+'><option value="0">'+c+"</option>"+i+"</select>"),d.append(i)}for(var f=0;n>f;f++){var u=t.filter.settings.filter[f][0],g=u.replace(/_\d/,""),h=t.filter.settings.filter[f][1],v=l.filter("#"+u),m=t.set.relevantFilters||t.filter.filter,y=(v.data("type"),v.data("max-length")||null),C=0,b="",S="",F=null,I=null,B=null,k="",A=[],w=[],x={};i="",r=v.data("create"),a=t.set.filterOptions[u]||{};for(var j in m[g]){if(S=j,void 0!==t.filter.filterDescriptions[g]&&void 0!==t.filter.filterDescriptions[g][j]&&(S=void 0!==t.filter.filterDescriptions[g][j].color_img?[S,t.filter.filterDescriptions[g][j].color_img]:void 0!==t.filter.filterDescriptions[g][j].color_hex?[S,t.filter.filterDescriptions[g][j].color_hex]:t.filter.filterDescriptions[g][j]),-1!==S.indexOf("::")){if(0!==j.indexOf(t.set.category))continue;if(A=S.split("::"),w=j.split("/"),void 0!==v.data("depth")){if(B=v.data("depth")-1,void 0===A[B])continue;k=w[B],S=A[B],void 0===x[k]&&(i+=s.buildFilterTemplate.call(t,r,u+"-"+k,k,S,a),x[k]=!0)}else S=A.pop(),F="tree",I!==A.join("")&&(null!==I&&(i+=s.buildFilterTemplate.call(t,"group_"+r,"",b,I,a),b=""),I=A.join("")),b+=s.buildFilterTemplate.call(t,r,g+"-"+j,j,S,a)}else t.set.splitSizes!==!1&&"size"===g?(F="size",sizeTables=j.split("_"),I!==sizeTables[0]&&(null!==I&&(i+=t.set.splitSizes+b+o,b=""),I=sizeTables[0]),b+=s.buildFilterTemplate.call(t,r,g+"-"+j,j,S,a)):i+=s.buildFilterTemplate.call(t,r,g+"-"+j,j,S,a);C++}null!==I&&(i+="tree"===F?s.buildFilterTemplate.call(t,"group_"+r,"",b,I,a):t.set.splitSizes+b+o),C>y&&null!==y&&(t.set.hideAncestor!==!1?v.closest("."+t.set.hideAncestor).addClass("too-many-options"):v.addClass("too-many-options")),void 0!==a.wrapperGroup&&(i=a.wrapperGroup+i+"</"+a.wrapperGroup.match(/<([a-z]+)/)[1]+">"),"fakeSelect"===r&&(t.set.repeatStartFakeSelect&&(b=s.buildFilterTemplate.call(t,"start_"+r,"",j,h,a)),i='<div class="filter-value fake-select"><span class="title" data-orig-text="'+h+'">'+h+'</span><ul class="ul-clean fake-select-list">'+b+i+"</ul></div>"),("select"===r||"multiSelect"===r)&&(i='<select name="'+g+'" class="filter-value"'+("multiSelect"===r?' multiple="multiple"':"")+'><option value="0">'+h+"</option>"+i+"</select>"),v.append(i)}t.removeClass("ysFilter-loading ysFilter-filtered").addClass("ysFilter-loaded"),void 0!==t.set.afterFilterRendered&&t.set.afterFilterRendered()},buildFilterTemplate:function(e,t,s,l,i){var r=this,a={desc:l},n="",o="",d="",c="",p="",f="",u="",g=!1;for(var h in i)switch(h){case"classNames":n=i[h].join(" ");break;case"background":g=i[h];break;case"attrs":c=" "+i[h].replace("{desc}",l[0]);break;case"wrapper":o=i[h],d="</"+i[h].match(/<([a-z]+)/)[1]+">"}return"object"==typeof l&&(a.desc=l[0],g&&(p=l[1]&&"http"===l[1].substr(0,4)?"background-image: url('"+l[1]+"')":"#"===l[1].substr(0,1)?"background-color: "+l[1]:"background-color: #"+l[1])),void 0!==r.set.eachFilterAttrs&&(a=r.set.eachFilterAttrs(a)),f=g?' style="'+p+'"':"",u=g?"":a.desc,t=t.replace(/\W/g,"-"),"a"===e?o+'<a id="'+t+'" class="'+n+' filter-value" href="#"'+f+" data-value='"+s+"'"+c+">"+u+"</a>"+d:"select"===e||"multiSelect"===e?'<option id="'+t+'" value="'+s+'">'+a.desc+"</option>":"fakeSelect"===e?'<li class="'+n+'"'+c+'><a id="'+t+'" class="filter-value" href="#"'+f+" data-value='"+s+"'>"+u+"</a></li>":"radio"===e?o+'<input id="'+t+'" type="radio" class="'+n+' filter-value" value="'+s+'" /><label'+f+' for="'+t+'">'+u+"</label>"+d:"checkbox"===e?o+'<input id="'+t+'" type="checkbox" class="'+n+' filter-value" value="'+s+'" /><label'+f+' for="'+t+'">'+u+"</label>"+d:"group_select"===e?'<optgroup label="'+a.desc+'">'+s+"</optgroup>":"start_fakeSelect"===e?'<li class="'+n+'"'+c+'><a class="remove" href="#">'+a.desc+"</a></li>":""},enableEvents:function(){var l=this;l.on("change",".filter-group select.filter-value",function(t){t.preventDefault();var i=e(this).closest(".filter-group").data("type"),r=e(this).closest(".filter-group").attr("id"),a=e(this).val();"sort"!==r&&(l.set.latestCat=r),s.updateFilter.apply(l,[i,r,a])}),l.on("click",".filter-group a.filter-value",function(t){t.preventDefault();var i=e(this).closest(".filter-group").data("type"),r=e(this).closest(".filter-group").attr("id"),a=e(this).data("value");"s"!==i&&"s1"!==i?l.set.latestCat=r:e(this).hasClass("selected")||e(this).closest(".filter-group").find(".filter-value").removeClass(l.set.filterSelectedClass),e(this).hasClass("disabled")||e(this).parent().hasClass("disabled")||(e(this).toggleClass(l.set.filterSelectedClass),s.updateFilter.apply(l,[i,r,a]))}),l.on("click",".remove",function(t){t.preventDefault();var i,r,a,n=e(this).closest(".filter-group");0===n.length&&(n=e(this).siblings(".filter-group")),i=n.data("type"),r=n.attr("id"),a="remove",n.find("."+l.set.filterSelectedClass).removeClass(l.set.filterSelectedClass),n.find("select").find("option").removeAttr("disabled").filter(":selected").removeAttr("selected"),s.updateFilter.apply(l,[i,r,a])}),l.on("click",".remove-all",function(e){e.preventDefault(),l.set.filteredBy={},l.set.filteredBy.page=1,l.set.currentHash="",t.location.hash=l.set.currentHash,l.find(".filter-group ."+l.set.filterSelectedClass).removeClass(l.set.filterSelectedClass),l.find(".filter-group option").removeAttr("disabled").filter(":selected").removeAttr("selected"),void 0!==l.set.onFilterChanged&&l.set.onFilterChanged(),s.gatherItems.apply(l)}),l.on("click",l.set.filterOptions.paging.nextBtnClass,function(e){return e.preventDefault(),l.set.filteredBy.page<l.set.pages&&(l.set.filteredBy.page+=1,l.set.currentHash=s.hashify(l.set.filteredBy),l.set.currentHash.length>0&&(t.location.hash=l.set.currentHash),l.find("."+pageCurrentClass).text(l.set.filteredBy.page),s.gatherItems.apply(l)),!1}),l.on("click",l.set.filterOptions.paging.prevBtnClass,function(e){e.preventDefault(),l.set.filteredBy.page>1&&(l.set.filteredBy.page-=1,l.set.currentHash=s.hashify(l.set.filteredBy),l.set.currentHash.length>0&&(t.location.hash=l.set.currentHash),l.find("."+pageCurrentClass).text(l.set.filteredBy.page),s.gatherItems.apply(l))}),l.on("click",l.set.filterOptions.paging.allBtnClass,function(t){t.preventDefault();var i=e(this).closest(".paging");i.hasClass("viewing-all")?(l.set.limit=l.set.oldLimit,i.removeClass("viewing-all"),l.find("."+pageCurrentClass).text(l.set.filteredBy.page)):(l.set.oldLimit=l.set.limit,l.set.limit="none",i.addClass("viewing-all"),l.find("."+pageCurrentClass).text(1)),s.gatherItems.apply(l)})},reSelectLatestFilter:function(){var e=this;for(var t in e.set.filteredBy)if("page"!==t&&"sort"!==t){e.set.latestCat=t;break}},updateFilter:function(l,i,r){var a=this,n=null,o=null;"s1"===l||"s"===l?(n=void 0!==a.set.filteredBy[i]?"object"==typeof a.set.filteredBy[i].value?a.set.filteredBy[i].value.join(","):a.set.filteredBy[i].value:"",n===r||0===r||"0"===r||"remove"===r?(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):a.set.filteredBy[i]={type:l,value:r}):("sand"===l||"sor"===l)&&("remove"===r?void 0!==a.set.filteredBy[i]&&(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):null===r?(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)):"object"==typeof r?r.length>0&&(a.set.filteredBy[i]={type:l,value:r}):(n=void 0!==a.set.filteredBy[i]&&void 0!==a.set.filteredBy[i].value?a.set.filteredBy[i].value:[],o=e.inArray(r,n),-1!==o||0===r||"0"===r?n.splice(o,1):n.push(r),n.length>0?a.set.filteredBy[i]={type:l,value:n}:(delete a.set.filteredBy[i],s.reSelectLatestFilter.apply(a)))),a.set.debug===!0&&console.log("var $this.set.filteredBy",a.set.filteredBy),a.set.filteredBy.page=1,a.set.currentHash=s.hashify(a.set.filteredBy),t.location.hash=a.set.currentHash,s.gatherItems.apply(a),void 0!==a.set.onFilterChanged&&a.set.onFilterChanged(),a.set.updateWHash!==!1&&e("."+a.set.updateWHash).each(function(){var t=e(this).attr("href");e(this).attr("href",t+"#"+a.set.currentHash)})},reSelect:function(){var e=this,t=e.set.filteredBy,s={},l={},i="",r="";for(var a in t)if(s=e.find("#"+a),i=t[a].value,r=s.data("create"),0!==s.length)if("sort"===a&&(i=t[a].value.join("-")),"object"==typeof t[a].value&&"sort"!==a)for(var n=0;n<t[a].value.length;n++)i=t[a].value[n].replace(/\W/g,"-"),"select"===r||"multiSelect"===r?s.find("#"+a+"-"+i).attr("selected",!0):"fakeSelect"===r?s.find("#"+a+"-"+i).closest("li").addClass(e.set.filterSelectedClass):s.find("#"+a+"-"+i).addClass(e.set.filterSelectedClass);else l=s.find("#"+a+"-"+i.replace(/\W/g,"-")),"select"===r||"multiSelect"===r?l.attr("selected",!0):"fakeSelect"===r?(l.addClass("selected"),s.find(".fake-select").addClass("selected").find("span").text(l.text())):l.addClass(e.set.filterSelectedClass);void 0!==e.set.onFilterChanged&&e.set.onFilterChanged()},gatherItems:function(){var e,t,l,i,r,a,n,o,d,c,p,f,u=this,g=/_\d$/,h=u.set.filteredBy,v=u.filter.settings.filter,m=u.set.relevantFilters||u.filter.filter,y=0,C=0,b=[],S=[],F=[],I=function(e,t){var s=[],l=0,i=parseInt(e.slice(-1),10)-1,r=e.replace(g,""),a=t===u.set.undefinedCatId?void 0:t;for(var n in m[r])0===n.indexOf(u.set.category)&&a===n.split("/")[i]&&(s[l]=m[r][n],l++);return Array.prototype.concat.apply([],s)};for(var B in h)if("page"!==B&&"sort"!==B){if("s1"===h[B].type)S=g.test(B)?I(B,h[B].value):m[B][h[B].value];else if("sor"===h[B].type){for(C=0;C<h[B].value.length;C++)b[C]=g.test(B)?I(B,h[B].value[C]):m[B][h[B].value[C]];S=Array.prototype.concat.apply([],b)}else if("sand"===h[B].type)for(C=0;C<h[B].value.length;C++)b[C]=m[B][h[B].value[C]],S=S;F=0===y?S:s.intersect(F,S),b=[],y++}if(0===y)for(u.set.currentItems=u.set.initItems.slice(0),u.find(".filter-group").find(".disabled,."+u.set.filterSelectedClass).removeClass("disabled "+u.set.filterSelectedClass),u.find(".filter-group option").removeAttr("disabled").filter(":selected").removeAttr("selected"),C=0;C<v.length;C++)i=u.find("#"+v[C][0]),n=i.data("max-length")||null,null!==n&&Object.keys(m[v[C][0]]).length>n&&(u.set.hideAncestor!==!1?i.closest("."+u.set.hideAncestor).addClass("too-many-options"):i.addClass("too-many-options"));else{for(C=0;C<v.length;C++)if(u.set.latestCat!==v[C][0]){if(e=0,t=v[C][0].replace(/_\d$/,""),l=0,i=u.find("#"+v[C][0]),r={},a=i.data("create")||null,n=i.data("max-length")||null,o="",d={},c=m[t],p=i.data("depth")-1||null,b=[],null!==p){for(f in m[t]){var k=[],A=f.split("/");void 0!==A[p]&&(w=A[p],k=void 0===d[w]?[]:d[w],d[w]=Array.prototype.concat.apply(k,m[t][f]))}c=d}for(f in c){var w=f.replace(/\W/g,"-"),x=s.intersect(F,c[f]);r=u.find("#"+v[C][0]+"-"+w),0!==r.length&&(o=r.prop("tagName").toLowerCase(),x.length>0?("option"===o||"input"===o?r.removeAttr("disabled"):"fakeSelect"===a?r.closest("li").removeClass("disabled").attr("title",b.length):r.removeClass("disabled").attr("title",b.length),l+=b.length,e++):"option"===o||"input"===o?r.attr("disabled",!0):"fakeSelect"===a?r.closest("li").addClass("disabled").removeAttr("title"):r.addClass("disabled").removeAttr("title"))}null!==n&&(e>n?u.set.hideAncestor!==!1?i.closest("."+u.set.hideAncestor).addClass("too-many-options"):i.addClass("too-many-options"):u.set.hideAncestor!==!1?i.closest("."+u.set.hideAncestor).removeClass("too-many-options"):i.removeClass("too-many-options")),e>0?i.removeClass("disabled").attr("title",l):i.addClass("disabled").removeAttr("title")}F=s.unique(F),u.set.currentItems=s.keysToItems.apply(u,[F])}void 0!==u.set.filteredBy.sort&&u.set.currentItems.length>0?s.sortItems.apply(u):u.set.preSort!==!1?s.sortItems.apply(u,[u.set.preSort[0],u.set.preSort[1]]):s.renderItems.apply(u)},sortItems:function(e,t){var l=this,i=l.set.currentItems,r=i.length,a=e||l.set.filteredBy.sort.value[0],n=e&&t?e+"-"+t:l.set.filteredBy.sort.value.join("-"),o=t||l.set.filteredBy.sort.value[1],d=0,c=0,p=[];for(d=0;r>d;d++)p[d]={obj:i[d]},"price"===a?(c=parseFloat(i[d].price.priceAsNumber,10),i[d].price.soldout&&(c="dsc"===o?0:999999999),p[d][a]=c):p[d][a]="news"===a?i[d].price.newProduct?0:10:i[d][a];for($item=l.find("#sort-"+n),"fakeSelect"===l.find("#sort").data("create")?$item.closest("li").addClass(l.set.filterSelectedClass):$item.addClass(l.set.filterSelectedClass),p.sort("number"==typeof p[0][a]?function(e,t){return e[a]-t[a]}:function(e,t){return e[a]<t[a]||""===t[a]?-1:e[a]>t[a]?1:0}),"dsc"===o&&p.reverse(),l.set.currentItems=[],d=0;r>d;d++)l.set.currentItems[d]=p[d].obj;s.renderItems.apply(l)},renderItems:function(){var t=this,l=t.set.currentItems,i=l.length,r=null,a=0,n="";t.set.initialLoad?t.set.appendItems&&(a=0,r=t.set.limit*t.set.filteredBy.page,i=r>i?i:r,i!==r&&t.find(".paging").addClass("disabled")):"none"!==t.set.limit?i>t.set.limit?(t.set.pages=Math.ceil(i/t.set.limit),t.find(".paging").removeClass("disabled"),r=t.set.limit*t.set.filteredBy.page,a=(t.set.filteredBy.page-1)*t.set.limit,i=r>i?i:r,t.set.filteredBy.page>1?t.find(t.set.filterOptions.paging.prevBtnClass).closest(".paging").removeClass("disabled"):t.find(t.set.filterOptions.paging.prevBtnClass).closest(".paging").addClass("disabled"),i!==r&&t.find(".paging").addClass("disabled")):(t.set.pages=1,t.find(".paging").addClass("disabled"),t.find(t.set.filterOptions.paging.prevBtnClass).closest(".paging").addClass("disabled")):t.set.pages=1,t.find("."+pageTotalClass).text(t.set.pages),t.find("."+t.set.itemTotalClass).text(l.length),t.find("."+t.set.currentTotalClass).text(i);for(var o=a;i>o;o++)t.set.eachItemAttrs&&(l[o]=t.set.eachItemAttrs(t,l[o],o)),t.set.onItemIndex===o&&(n+=t.set.onItem(i)),n+=s.renderItemTemplate.apply(t,[l[o]]);t.set.appendItems&&1!==t.set.pages&&1!==t.set.filteredBy.page&&t.set.initialLoad===!1?t.find("#"+t.set.itemContId).append(n):t.find("#"+t.set.itemContId).html(n),hash=-1===t.set.currentHash.indexOf("#")?"#"+t.set.currentHash:t.set.currentHash,t.find("#"+t.set.itemContId+" a").each(function(){var t=e(this).attr("href");-1!==t.indexOf("#")&&(t=t.substring(0,t.indexOf("#"))),e(this).attr("href",t+hash)}),t.set.initialLoad=!1,void 0!==t.set.afterItemsRendered&&t.set.afterItemsRendered()},renderItemTemplate:function(e){{var l=this,i=l.filter.settings.template.item,r=l.filter.settings.template.price,a="",n=[],o=!1;n.length}return"object"==typeof e.price&&e.price.soldout&&r.soldout?a=r.soldout:(a="object"==typeof e.price&&e.price.showAsOnSale&&r.discounted?r.discounted:"object"==typeof e.price&&e.price.newProduct&&r.news?r.news:r.default,e.classProductNew=e.price.newProduct===!0?" "+l.set.classProductNew:"",e.classProductSale=e.price.showAsOnSale===!0?" "+l.set.classProductSale:""),"undefined"==typeof e.priceHTML&&(e.priceHTML=a.replace(/\{(.+?)\}/g,function(t,s){return e.price[s]})),"object"==typeof e.image?n=e.image:n[0]=e.image,e.hash=-1===l.set.currentHash.indexOf("#")?"#"+l.set.currentHash:l.set.currentHash,e.root=encodeURIComponent(t.location.origin),e.locale=s.getLocale(),e.category=l.set.category,i=i.replace(/\{(.+?)\}/g,function(t,l){var i,r,a="";if("image_"===l.substring(0,6)){if(i=parseInt(l.substring(6))-1,a=n[i],void 0===a||null===a)return o=!0,"{#}"}else if("attr_"===l.substring(0,5)){if(r=l.substring(5),null!==e[r]&&"object"==typeof e[r])for(var d in e[r])void 0!==e[r][d].image&&void 0!==e[r][d].image.url&&"object"==typeof e[r][d].image&&(a+='<img class="filter-list-attribute" src="'+e[r][d].image.url+'">')}else if(-1!==l.indexOf("|"))switch(l=l.split("|"),l[1]){case"title":a=void 0!==e[l[0]]?s.titleCase(e[l[0]]):""}else a=void 0!==e[l]?e[l]:"";return a}),o&&(i=i.replace(/<[^<]*\{#\}[^>]*>/g,"")),i},keysToItems:function(e){for(var t=this,s=[],l="",i=0;i<e.length;i++)l=t.filter.productIds[e[i]],s[i]=t.filter.products[l];return s},unique:function(e){var t=[];e:for(var s=0;s<e.length;s++){for(var l=0;l<t.length;l++)if(t[l]==e[s])continue e;t[t.length]=e[s]}return t},intersect:function(e,t){var s=[],l={},i=0;for(i=0;i<e.length;i++)l[e[i]]=!0;for(i=0;i<t.length;i++)l[t[i]]&&(s[s.length]=t[i]);return s},dehashify:function(e){var t=this,s={},l=e.substring(1).split("&"),i=[],r="",a=!0,n=[];if(e.length>1&&1!==e.indexOf("/"))for(var o=0;o<l.length;o++)if(i=l[o].split("="),"page"===i[0])s.page=parseInt(i[1]);else{switch(r=i[0].split("~"),r[1]){case"sand":n=i[1].split("+");break;case"sor":case"r":case"s":case"f":n=i[1].split(",");break;default:n=i[1]}a&&"sort"!==r[0]&&(a=!1,t.set.latestCat=r[0]),s[r[0]]={type:r[1],value:n}}return void 0===s.page&&(s.page=1),s},hashify:function(e){var t="",s=null;for(var l in e)if("page"===l)e[l]>1&&(t+=l+"="+e[l]+"&");else{switch(e[l].type){case"sand":s=e[l].value.join("+");break;case"sor":case"s":case"r":case"f":s=e[l].value.join(",");break;default:s=e[l].value}t+=l+"~"+e[l].type+"="+s+"&"}return t=t.substring(0,t.length-1),t.length?t:""},titleCase:function(e){return e.toLowerCase().replace(/^\S|\s\S/g,function(e){return e.toUpperCase()})},getLocale:function(){var e=t.location.pathname.split("/")[1];return/\w/.test(e)?"/"+e:""},urlify:function(e){return e.toLowerCase().replace(/\s{2,}|\s/g,"-")}},l={init:function(l){var a=e.extend({},i,l);return t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)}}(),this.each(function(){var t=e(this),l=t.data();t.set=e.extend({},a,l,r),t.set.debug===!0&&(console.warn(":::: YS Filter Debug has been set to true ::::"),console.log("Options -> ",t.set),void 0===t.set.url&&console.warn("No url has been defined i.e. loadproducts")),s.init.apply(t),t.data(t.set)})}},i={limit:20,preSort:!1,splitSizes:!1,appendItems:!1,multipleImgs:!1,filterOptions:{},updateWHash:!1,hideAncestor:!1,repeatStartFakeSelect:!1,undefinedCat:"Unsorted",undefinedCatId:"unsorted",itemContId:"item-cont",filterSelectedClass:"selected",groupClass:"filter-group",classProductNew:"product-new",classProductSale:"product-sale",pageTotalClass:"page-total",pageCurrentClass:"current-page",itemTotalClass:"item-total",currentTotalClass:"current-total"},r={filteredBy:{page:1},currentHash:"",latestCat:"",currentItems:[],oldLimit:null,relevantFilters:null,initialLoad:!1,pages:1};e.fn.ysFilter=function(t){return l[t]?l[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist on jQuery.ysFilter"):l.init.apply(this,arguments)}}(jQuery,window);